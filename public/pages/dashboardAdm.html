<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="../styles/dashboardAdm.css">
    <link rel="stylesheet"
        href="https://fonts.sandbox.google.com/css?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet"
        href="https://fonts.sandbox.google.com/css?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />

    <script src="../js/dashboard.js"></script>
    <script src="../js/login.js"></script>
    <!-- configurar e atualizar -->
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>

    <title>Tela gerencial</title>
</head>

<body onload="validarSessao(), atualizarTotens()" class="corpo">
    <!-- Start of dvc6 Zendesk Widget script -->
    <script id="ze-snippet"
        src="https://static.zdassets.com/ekr/snippet.js?key=a09dd733-6ca6-415b-b162-e8a1967ee841"> </script>
    <!-- End of dvc6 Zendesk Widget script -->

    <div class="container6">
        <aside>
            <div class="top">
                <div class="code">
                    <img src="../img/logo.png" alt="logo">
                </div>
                <div class="close" id="close-btn">
                    <span class="material-symbols-outlined">close</span>
                </div>
            </div>
            <div class="sidebar">
                <a href="#" class="active">
                    <span class="material-symbols-outlined">grid_view</span>
                    <h3>Dashboard</h3>
                </a>

                <a onclick="controleCadastro()">
                    <span class="material-symbols-outlined">person_add</span>
                    <h3>Cadastrar usuário</h3>
                </a>

                <a href="CadastroChave.html">
                    <span class="material-symbols-outlined">key</span>
                    <h3>Cadastrar Chave</h3>
                </a>

                <a href="Index.html">
                    <span class="material-symbols-outlined">logout</span>
                    <h3>Sair</h3>
                </a>
            </div>
        </aside>

        <main>

            <div class="right">
                <div class="top">
                    <button class="menu-btn">
                        <span class="material-symbols-outlined">menu</span>
                    </button>
                    <div class="profile">
                        <div class="info">
                            <p>Olá, <b><span id="nomeUsuario"></span></b>!</p>
                        </div>
                        <div class="photoProfile">
                            <span class="material-symbols-outlined">account_circle</span>
                        </div>
                    </div>
                </div>
            </div>

            <h1 class="dash">Dashboard</h1>

            <div class="date date3">
                <h2 class="pe2" id="legendaRisco">Risco</h2>
            </div>

            <div class="date date2">
                <h2 class="pe2" id="legendaIncidente">Incidente<h2>
            </div>

            <div class="insights2">
                <div class="sales">
                    <span class="material-symbols-outlined">monitor_heart</span>
                    <div class="middle">
                        <div class="left">
                            <h3>Quantidade de Totens ativos</h3>
                            <h1><span id="totensAtivos">0</span></h1>
                        </div>
                    </div>
                </div>

                <div class="expense">
                    <span class="material-symbols-outlined">bar_chart</span>
                    <div class="middle">
                        <div class="left">
                            <h3>Percentual de Totens ativos acima de 80% de RAM</h3>
                            <h1><span id="spanRAM">0%</span></h1>
                        </div>
                    </div>
                </div>

                <div class="income">
                    <span class="material-symbols-outlined">monitoring</span>
                    <div class="middle">
                        <div class="left">
                            <h3>Percentual de Totens ativos acima de 80% de CPU</h3>
                            <h1><span id="spanCPU">0%</span></h1>
                        </div>
                    </div>
                </div>
            </div>

            <div class="recent-order">
                <h2>Servidores</h2>
                <table>
                    <thead>
                        <tr>
                            <th class="tt">ID</th>
                            <th class="tt2">Hostname</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div id="lista_totens"></div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- //////////CADASTRAR USUARIOS///////////// -->
            <div id="fade" style="display: none;"></div>

            <div id="cadastroUsuarios" style="display: none;">
                <div id="modalHeader">
                    <h2>Lista de Usuários</h2>
                    <button onclick="esconderModal()">Voltar</button>
                </div>
                <button id="criarNovoUsuario" onclick="abrirCadastro()">Novo Usuário</button>
                <div id="listaUsuarios">

                    <table>
                        <thead>
                            <tr>
                                <th class="tt">ID</th>
                                <th class="tt2">Hostname</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div id="lista_funcionarios"></div>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                </div>
            </div>

            <div id="novoUsuario" style="display: none;">
                <h2>Cadastre aqui um novo usuário</h2>
                <button onclick="esconderModal()">Cancelar</button>
                <form class="cads" method="dialog" id="form_cadusuario">
                    <img class="avatar" src="Imagens/undraw_male_avatar_323b.svg" alt="">
                    <div class="input-div um">
                        <div class="i">
                            <i class="fa fa-user-circle"></i>
                        </div>
                        <div>

                            <h5>Nome completo</h5>
                            <input class="inp" type="text" name="nome_comp">
                        </div>
                    </div>

                    <div class="input-div dois">
                        <div class="i">
                            <i class="fa fa-user-circle"></i>
                        </div>
                        <div>
                            <h5>Nome usuário</h5>
                            <input class="inp" type="text" name="usuario">
                        </div>
                    </div>

                    <div class="input-div tres">
                        <div class="i">
                            <i class="fa fa-envelope"></i>
                        </div>
                        <div>
                            <h5>E-mail</h5>
                            <input class="inp" type="text" name="email_usu">
                        </div>
                    </div>

                    <div class="input-div quatro">
                        <div class="i">
                            <i class="fa fa-lock"></i>
                        </div>
                        <div>
                            <h5>Senha</h5>
                            <input class="inp" type="password" name="senha">
                        </div>
                    </div>

                    <div class="input-div cinco">
                        <div class="i">
                            <i class="fa fa-lock"></i>
                        </div>
                        <div>
                            <select class="inp" name="tipoUsuario" id="tipo_Usuario">
                                <option selected disabled value="">Tipo de Usuário</option>
                                <option name="tipoAdm" value="adm">Administrador</option>
                                <option name="tipoComum" value="comum">Comum</option>
                            </select>
                        </div>
                    </div>

                    <button class="buton" onclick="cadastrarUsuario()">Cadastrar</button>
                    <a class="volt2" href="DashboardAdm.html">Voltar</a>

                </form>
            </div>

        </main>
    </div>

</body>

</html>